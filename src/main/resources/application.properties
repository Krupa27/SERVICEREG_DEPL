spring.application.name=server-registry
server.port=8761

#eureka.instance.hostname=localhost
#eureka.client.fetch-registry=false
#eureka.client.register-with-eureka=false

# --- Database Connection Properties for Render/Neon ---

# Render will set DATABASE_URL, DB_USERNAME, and DB_PASSWORD 
# based on the URI you provide in the Render dashboard's environment variables.
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}


eureka.instance.hostname=${RENDER_EXTERNAL_HOSTNAME} 
eureka.client.register-with-eureka=false 
eureka.client.fetch-registry=false
# IMPORTANT: Tell clients the URL for registration using the hostname
eureka.client.service-url.defaultZone=http://${RENDER_EXTERNAL_HOSTNAME}:${server.port}

# --- PostgreSQL Driver and Hibernate Dialect ---
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# --- Crucial for Neon Connections ---
# Neon's PostgreSQL URI already specifies sslmode=require, but it's good practice 
# to ensure Spring/Hibernate is prepared for secure communication. 
spring.datasource.hikari.ssl-mode=require
